<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>php on ephz3nt</title><link>http://localhost:1313/tags/php/</link><description>Recent content in php on ephz3nt</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Fri, 12 Jul 2013 23:45:53 +0000</lastBuildDate><atom:link href="http://localhost:1313/tags/php/index.xml" rel="self" type="application/rss+xml"/><item><title>[转]PHP连接MySQL主机127.0.0.1与localhost的区别</title><link>http://localhost:1313/posts/tech/2013/php-connect-mysql-localhost/</link><pubDate>Fri, 12 Jul 2013 23:45:53 +0000</pubDate><guid>http://localhost:1313/posts/tech/2013/php-connect-mysql-localhost/</guid><description>发现问题
昨天在帮同事编译安装Linux环境时，遇到一个问题： WEB服务器是apache，数据库是MySQL。 于是写了一个测试连接数据库的PHP页面： $mysql = mysql_connect(&#39;localhost&#39;,&#39;root&#39;,&#39;&#39;); 打开 http://localhost/test.php 测试 提示：Can’t connect to local MySQL server through socket... 检查环境正常 以为是数据库没有启动，于是查看一下进程，MySQL在进程里，重启了一下MySQL. 使用mysql -u root -p 可以进入MySQL操作界面 直接使用/usr/local/php5/bin/php /web/test.php执行可以连上数据库 apache也重启了，一样无效 疑点：为何网页执行失败，命令执行却成功 这下就郁闷了，使用php命令直接执行就成功，通过网页执行就失败。难道是apache导致？网上搜索了大堆资料也没找到解决方案，重新编译安装apache问题依旧。 把localhost改成127.0.0.1成功 把localhost改成127.0.0.1后竟然连接成功了，开始陷入思考困局：localhost失败127.0.0.1却成功？ ping localhost 地址是127.0.0.1没错 打开hosts加入 127.0.0.1 qttc 使用qttc当主机连接也正常，唯独就不认localhost。 localhost连接方式不同导致 为了了解PHP连接数据库时，主机填写localhost与其它的区别阅读了大量资料，最后得知： 当主机填写为localhost时mysql会采用 unix domain socket连接 当主机填写为127.0.0.1时mysql会采用tcp方式连接 这是linux套接字网络的特性，win平台不会有这个问题 解决方法 在my.cnf的[mysql]区段里添加 protocol=tcp 保存重启MySQL，问题解决！
原文链接：http://www.qttc.net/201210228.html</description></item><item><title>PHP文件操作函数和添加图片计数器。</title><link>http://localhost:1313/posts/tech/2013/php-file-counter/</link><pubDate>Sun, 07 Jul 2013 14:21:03 +0000</pubDate><guid>http://localhost:1313/posts/tech/2013/php-file-counter/</guid><description>PHP访问文件或文件夹相关函数 filetype() //可以输出相关文件类型，如：dir / file /link echo filetype(&amp;lsquo;C:\WINDOWS&amp;rsquo;).&amp;ldquo;; 输出结果：dir echo filetype(&amp;lsquo;C:\WINDOWS\regedit.exe&amp;rsquo;).&amp;ldquo;; 输出结果：file 相关函数： clearstatcache() 来清除缓存 is_executable() 判断文件是否可执行 is_dir() 判断是否存在或是文件夹 is_file() 判断是否是文件 scandir() 遍历文件夹 / 返回一个数组
str_split 将字符串拆分为单个数组
php if(!$f=fopen(&amp;quot;num.txt&amp;quot;,&amp;quot;r&amp;quot;)){ //只读模式打开，判断num.txt不存在则输出下行 echo &amp;quot;文件不存在！！！&amp;quot;; $num=0; }else{ num = fgets(f,10); //获得9位 fclose($f); } $num++; $open = fopen(&amp;quot;num.txt&amp;quot;,&amp;quot;w&amp;quot;); //写入模式打开（如果文件不存在则创建） fwrite(open,num); //把$num里的值写入到num.txt中 fclose($open); //关闭num.txt } numarr = str_split(num); //把字符串拆分到数组中 foreach(numarr as number){ //为$numarr开始遍历 // print_r($number); echo &amp;quot;&amp;lt;img src=&#39;images\&amp;quot;.number.&amp;quot;.png&#39;&amp;gt;&amp;quot;; //循环遍历输出number.png }</description></item><item><title>PHP的数组、多维数组和数组函数学习笔记。</title><link>http://localhost:1313/posts/tech/2013/php-array-stydy/</link><pubDate>Fri, 05 Jul 2013 00:16:32 +0000</pubDate><guid>http://localhost:1313/posts/tech/2013/php-array-stydy/</guid><description>最近在学习PHP，想多学点东西充实自己，提升自己的能力，以后才可以回报爱我的人和我爱的人 - - 。
foreach()是一个用来遍历数组中数据的最简单有效的方法。
php title = array(&amp;quot;S.m.s&amp;quot;,&amp;quot;娱乐&amp;quot;,&amp;quot;音乐论坛&amp;quot;); //创建一个title的数组(无键值模式) //$title = array(&amp;quot;A&amp;quot;=&amp;gt;&amp;quot;S.m.s&amp;quot;,&amp;quot;B&amp;quot;=&amp;gt;&amp;quot;娱乐&amp;quot;,&amp;quot;C&amp;quot;=&amp;gt;&amp;quot;音乐论坛&amp;quot;); //有键值模式 //遍历方式1 foreach(title as value){ //无键名模式 echo value; //直接把title数组的数据从左到右依次输出 } echo &amp;quot;&amp;lt;br&amp;gt;&amp;quot;; foreach(title as str =&amp;gt; $value){ //有键名模式(多了一个键名/下标输出) echo str.&amp;quot;=&amp;quot;.value.&amp;quot;&amp;lt;br&amp;gt;&amp;quot;; //输出下标和键值(我上面没有定义键名，所以输出的为下标值后面跟上对应的数组值) } //题目为。要求输出$arr数组里面的所有值，每输出一个换一行。 $arr = array(array(array(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,1,2,3,4),&#39;我&#39;,&#39;是&#39;,&#39;你&#39;),array(&#39;吧&#39;,&#39;吧&#39;)); //多维数组 foreach(arr as a){ //arr数组遍历给a if(is_array($a)){ //判断$arr是否为数组类型 foreach(a as b){ //如果是的话继续把a遍历给b if(is_array($b)){ //判断$b是否为数组类型 foreach(b as c){ //如果是把b遍历给c echo c.&amp;quot;&amp;lt;br&amp;gt;&amp;quot;; //并且输出c } }else{ echo b.&amp;quot;&amp;lt;br&amp;gt;&amp;quot;; //如果不是直接输出b } } }else{ echo a.&amp;quot;&amp;lt;br&amp;gt;&amp;quot;; //如果不是则输出a } } 其中foreach遍历原理还不是很清楚</description></item><item><title>用php&#43;mysql写一个刷新页面显示不同的内容</title><link>http://localhost:1313/posts/tech/2011/used-to-write-a-php-mysql-refresh-the-page-to-display-different-content/</link><pubDate>Fri, 18 Nov 2011 04:31:39 +0000</pubDate><guid>http://localhost:1313/posts/tech/2011/used-to-write-a-php-mysql-refresh-the-page-to-display-different-content/</guid><description>用php+mysql写一个刷新页面显示不同的内容
&amp;lt;? $conn=mysql_connect(&amp;#34;localhost&amp;#34;,&amp;#34;user&amp;#34;,&amp;#34;pwd&amp;#34;); $sql=&amp;#34;select * from tab where 1&amp;#34;; result=mysql_db_query(&amp;#34;database_name&amp;#34;,sql); row_num=mysql_num_rows(result); rand=rand(0,row_num); mysql_data_seek(result, rand); row=mysql_fetch_assoc(result); echo &amp;#34;&amp;lt;pre&amp;gt;&amp;#34;; print_r($row); echo &amp;#34;/&amp;lt;pre&amp;gt;&amp;#34;; ?&amp;gt;</description></item></channel></rss>